!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Animation=e()}(this,function(){"use strict";function t(){}function e(t){return t}function n(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t){(function(){var e,n,o,i,r,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-r)/1e6},n=process.hrtime,e=function(){var t;return t=n(),1e9*t[0]+t[1]},i=e(),s=1e9*process.uptime(),r=i-s):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(o)}),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function o(n){r(this,o);var i=n||{},s=i.duration,a=i.handler,c=i.ease,u=i.onstart,f=i.oncancel,h=i.oncomplete;if(isNaN(s))throw Error("`duration` should be defined, check https://github.com/broadsw0rd/dynamica#api");this.startTime=0,this.duration=Number(s),this.handler=a||t,this.ease=c||e,this.onstart=u||t,this.oncancel=f||t,this.oncomplete=h||t,this.next=[],this._started=!1}return o.add=function(t){o.instances.push(t)},o.remove=function(t){var e=n(o.instances,t);e!==-1&&o.instances.splice(e,1)},o.animate=function(t){for(var e,n=o.instances.concat(),i=0;i<n.length;i++)e=n[i],e.animate(t)},o.prototype.start=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();o.add(this),this._started=!0,this.startTime=t,this.onstart&&this.onstart()},o.prototype.animate=function(t){var e=(t-this.startTime)/this.duration;e<1?this.handler(this.ease(e)):this.complete(t)},o.prototype.complete=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if(this.started()){this.remove(),this.handler(1),this.oncomplete&&this.oncomplete();for(var e,n=0;n<this.next.length;n++)e=this.next[n],e.start(Math.min(this.startTime+this.duration,t)),e.animate(t)}},o.prototype.remove=function(){o.remove(this),this._started=!1},o.prototype.cancel=function(){this.started()&&(this.remove(),this.oncancel&&this.oncancel())},o.prototype.queue=function(t){this.next.push(t)},o.prototype.dequeue=function(t){var e=n(this.next,t);e!==-1&&this.next.splice(e,1)},o.prototype.started=function(){return this._started},o}();return s.instances=[],s});
