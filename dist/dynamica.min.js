!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Animation=e()}(this,function(){"use strict";function t(){}function e(t){return t}function n(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function s(n){var a=n.duration,r=n.handler,u=n.easing;i(this,s),this.startTime=0,this.duration=a,this.handler=r||t,this.easing=u||e,this.next=[]}return a(s,null,[{key:"add",value:function(t){s.instances.push(t)}},{key:"remove",value:function(t){var e=n(s.instances,t);e!==-1&&s.instances.splice(e,1)}},{key:"animate",value:function(t){for(var e,n=0;n<s.instances.length;n++)e=s.instances[n],e.animate(t)}}]),a(s,[{key:"start",value:function(){s.add(this),this._started=!0}},{key:"animate",value:function(t){this.startTime=this.startTime||t,t=(t-this.startTime)/this.duration,t<1?this.handler(this.ease(t)):this.complete()}},{key:"complete",value:function(){this.cancel(),this.handler(1);for(var t,e=0;e<this.next.length;e++)t=this.next[e],t.start()}},{key:"cancel",value:function(){this.startTime=0,s.remove(this),this._started=!1}},{key:"queue",value:function(t){this.next.push(t)}},{key:"dequeue",value:function(t){var e=n(this.next,t);e!==-1&&this.next.splice(e,1)}},{key:"started",value:function(){return this._started}}]),s}();return s.instances=[],s});
