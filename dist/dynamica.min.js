!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Animation=e()}(this,function(){"use strict";function t(){}function e(t){return t}function n(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=function(t,e){return e={exports:{}},t(e,e.exports),e.exports}(function(t){(function(){var e,n,o,i,r,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-r)/1e6},n=process.hrtime,i=(e=function(){var t;return 1e9*(t=n())[0]+t[1]})(),s=1e9*process.uptime(),r=i-s):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(o)}),r=function(n){var o=n||{},i=o.duration,r=o.handler,s=o.ease,a=o.onstart,c=o.oncancel,u=o.oncomplete;if(isNaN(i))throw Error("`duration` should be defined, check https://github.com/broadsw0rd/dynamica#api");this.startTime=0,this.duration=Number(i),this.handler=r||t,this.ease=s||e,this.onstart=a||t,this.oncancel=c||t,this.oncomplete=u||t,this.next=[],this._started=!1};return r.add=function(t){r.instances.push(t)},r.remove=function(t){var e=n(r.instances,t);-1!==e&&r.instances.splice(e,1)},r.animate=function(t){for(var e=r.instances.concat(),n=0;n<e.length;n++)e[n].animate(t)},r.prototype.start=function(t){void 0===t&&(t=i()),r.add(this),this._started=!0,this.startTime=t,this.onstart&&this.onstart()},r.prototype.animate=function(t){var e=(t-this.startTime)/this.duration;e<1?this.handler(this.ease(e)):this.complete(t)},r.prototype.complete=function(t){var e=this;if(void 0===t&&(t=i()),this.started()){this.remove(),this.handler(1),this.oncomplete&&this.oncomplete();for(var n,o=0;o<this.next.length;o++)(n=e.next[o]).start(Math.min(e.startTime+e.duration,t)),n.animate(t)}},r.prototype.remove=function(){r.remove(this),this._started=!1},r.prototype.cancel=function(){this.started()&&(this.remove(),this.oncancel&&this.oncancel())},r.prototype.queue=function(t){this.next.push(t)},r.prototype.dequeue=function(t){var e=n(this.next,t);-1!==e&&this.next.splice(e,1)},r.prototype.started=function(){return this._started},r.instances=[],r});
