!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.Animation=n()}(this,function(){"use strict";function t(){}function n(t){return t}function e(t,n){for(var e=0;e<t.length;e++)if(t[e]===n)return e;return-1}var i=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},s=function(){function s(e){var o=e.duration,r=e.handler,a=e.easing;i(this,s),this.startTime=0,this.duration=o,this.handler=r||t,this.easing=a||n,this.next=[]}return s.add=function(t){s.instances.push(t)},s.remove=function(t){var n=e(s.instances,t);n!==-1&&s.instances.splice(n,1)},s.animate=function(t){for(var n,e=0;e<s.instances.length;e++)n=s.instances[e],n.animate(t)},s.prototype.start=function(){s.add(this),this._started=!0},s.prototype.animate=function(t){this.startTime=this.startTime||t,t=(t-this.startTime)/this.duration,t<1?this.handler(this.ease(t)):this.complete()},s.prototype.complete=function(){this.cancel(),this.handler(1);for(var t,n=0;n<this.next.length;n++)t=this.next[n],t.start()},s.prototype.cancel=function(){this.startTime=0,s.remove(this),this._started=!1},s.prototype.queue=function(t){this.next.push(t)},s.prototype.dequeue=function(t){var n=e(this.next,t);n!==-1&&this.next.splice(n,1)},s.prototype.started=function(){return this._started},s}();return s.instances=[],s});
